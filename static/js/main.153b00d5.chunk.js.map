{"version":3,"sources":["Day.js","Week.js","App.js","index.js"],"names":["Day","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","editDrinks","bind","assertThisInitialized","day","stringDrinks","prompt","concat","date","format","drinks","parsedDrinks","parseInt","isNaN","onChangeDrinks","drinkClasses","join","react_default","a","createElement","className","onClick","Component","Week","days","reduce","acc","d","weekClasses","dayComponents","map","Day_Day","key","onChangeDrinksForDay","localDrinkDataKey","App","handleChangeDrinksForDay","now","Moment","data","JSON","parse","localStorage","getItem","value","getLastDate","length","clone","startOf","diff","push","add","state","drinksData","setItem","stringify","_this2","setState","date1","date2","weeks","i","Week_Week","slice","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.153b00d5.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './Day.css';\r\n\r\nexport default class Day extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.editDrinks = this.editDrinks.bind(this);\r\n    }\r\n    editDrinks() {\r\n        const day = this.props.day;\r\n        let stringDrinks = prompt(`How many drinks did you have on ${day.date.format(\"MM-DD-YY\")}?`, day.drinks);\r\n        const parsedDrinks = parseInt(stringDrinks);\r\n\r\n        if(!isNaN(parsedDrinks)) {\r\n            this.props.onChangeDrinks(parsedDrinks);\r\n        }\r\n    }\r\n    render() {\r\n        const drinks = this.props.day.drinks;\r\n        const dayDrinkHealth = drinks > 4 ? \"bad\" : drinks > 2 ? \"moderate\" : \"good\";\r\n        const drinkClasses = [\"day\", dayDrinkHealth].join(\" \");\r\n        return (\r\n        <div className={drinkClasses} onClick={this.editDrinks}>\r\n            <div className=\"date\">{this.props.day.date.format(\"MM-DD-YY\")}</div>\r\n            <div className=\"drinks\">{drinks}</div>\r\n        </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport Day from './Day';\r\nimport './Week.css';\r\n\r\nexport default function Week(props) {\r\n    const drinks = props.days.reduce((acc, d) => acc + d.drinks, 0);\r\n    const weekDrinkHealth = drinks >= 14 ? \"bad\" : drinks > 10 ? \"moderate\" : \"good\";\r\n    const weekClasses = [\"week\", weekDrinkHealth].join(\" \");\r\n\r\n    const dayComponents = props.days.map(d => <Day day={d} key={d.date} onChangeDrinks={(drinks) => props.onChangeDrinksForDay(d.date, drinks)} />);\r\n    return (\r\n        <div className={weekClasses}>\r\n            {dayComponents}\r\n        </div>\r\n    );\r\n}","import React, { Component } from 'react';\nimport Moment from 'moment';\nimport Week from './Week';\nimport './App.css';\n\nconst localDrinkDataKey = \"drink-data\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeDrinksForDay = this.handleChangeDrinksForDay.bind(this);\n\n    const now = Moment();\n    let data = JSON.parse(localStorage.getItem(localDrinkDataKey), (key, value) => \n      key === \"date\" ? Moment(value) : value\n    );\n\n\n    if (!data || data.length === 0) {\n      data = [{\n        date: now.clone().startOf('week'),\n        drinks: 0,\n      }];\n    }\n\n    function getLastDate() {\n      return data[data.length-1].date;\n    }\n\n    while(getLastDate().diff(now, 'days') < 0) {\n      data.push({\n        date: getLastDate().clone().add(1, 'days'),\n        drinks: 0,\n      });\n    }\n\n    this.state = {\n      drinksData: data,\n    };\n    \n    localStorage.setItem(localDrinkDataKey, JSON.stringify(this.state.drinksData));\n  }\n  handleChangeDrinksForDay(date, drinks) {\n    function datesAreEqual(date1, date2) {\n      return date1.diff(date2, 'days') === 0;\n    } \n\n    this.setState(state => ({\n      drinksData: state.drinksData.map(day => datesAreEqual(day.date, date) ? { date, drinks }: day),\n    }),\n    () => {\n      localStorage.setItem(localDrinkDataKey, JSON.stringify(this.state.drinksData));\n    });\n  }\n  render() {\n    const weeks = [];\n    const daysInWeek = 7;\n    const drinksData = this.state.drinksData;\n    for (let i = 0; i < drinksData.length; i += daysInWeek) {\n      weeks.push(<Week key={i} days={drinksData.slice(i, i+daysInWeek)} onChangeDrinksForDay={this.handleChangeDrinksForDay} />)\n    }\n    \n    return (\n      <div className=\"app\">\n        {weeks}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}